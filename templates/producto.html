{% extends "base.html" %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', path='css/producto.css') }}" />
{% endblock %}

{% block extra_js %}
<script defer src="{{ url_for('static', path='js/detalle_producto.js') }}"></script>
<script defer src="{{ url_for('static', path='js/cantidad.js') }}"></script>
{% endblock %}

{% block title %}Producto | Aurum Joyería{% endblock %}

{% block content %}
<!-- CONTENIDO PRINCIPAL -->
<main class="detalle-producto">
    <!-- BREADCRUMB -->
    <nav class="breadcrumb">
        <a href="/">Inicio</a>
        <span>/</span>
        <a href="#" id="categoriaBreadcrumb">Categoría</a>
        <span>/</span>
        <span id="nombreBreadcrumb">Producto</span>
    </nav>

    <div class="producto-container">
        <!-- GALERÍA DE IMÁGENES -->
        <div class="producto-galeria">
            <div class="imagen-principal">
                <img id="imagenPrincipal" 
                     src="https://via.placeholder.com/500x500/1a1a1a/f9dc5e?text=Cargando..." 
                     alt="Producto">
            </div>
            <div class="miniaturas" id="miniaturasContainer">
                <!-- Las miniaturas se cargan dinámicamente -->
            </div>
        </div>

        <!-- INFORMACIÓN DEL PRODUCTO -->
        <div class="producto-info">
            <h1 id="nombreProducto">Cargando...</h1>
            
            <p class="categoria-producto">
                Categoría: <span id="categoriaProducto">-</span>
            </p>
            
            <p class="descripcion-producto" id="descripcionProducto">
                Cargando descripción...
            </p>
            
            <div class="stock-info">
                <p id="stockProducto" class="stock">Verificando stock...</p>
            </div>

            <!-- CONTROL DE CANTIDAD -->
            <div class="cantidad-control">
                <label for="cantidad">Cantidad:</label>
                <div class="cantidad-input-group">
                    <button type="button" onclick="cambiarCantidad(-1)" class="btn-cantidad">-</button>
                    <input type="number" id="cantidad" value="1" min="1" max="10" />
                    <button type="button" onclick="cambiarCantidad(1)" class="btn-cantidad">+</button>
                </div>
            </div>

            <!-- BOTONES DE ACCIÓN -->
            <div class="producto-acciones">
                <button id="agregarCarrito" class="btn-agregar-carrito">
                    Agregar al carrito
                </button>
                <a id="comprarWhatsApp" 
                   href="#" 
                   class="btn-whatsapp" 
                   target="_blank" 
                   rel="noopener noreferrer">
                    Comprar por WhatsApp
                </a>
            </div>

            <!-- INFORMACIÓN ADICIONAL -->
            <div class="info-adicional">
                <div class="info-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <path d="M20 7h-9m9 0c0 1.105-.895 2-2 2h-5c-1.105 0-2-.895-2-2m9 0c0-1.105-.895-2-2-2h-5c-1.105 0-2 .895-2 2m-8 0h2m0 0c0-1.105.895-2 2-2m-2 2c0 1.105.895 2 2 2m0-4h7.5M12 11v10m-4-6h8"/>
                    </svg>
                    <span>Garantía de autenticidad</span>
                </div>
                <div class="info-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <path d="M9 11l3 3L22 4"/>
                        <path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"/>
                    </svg>
                    <span>Envío seguro</span>
                </div>
                <div class="info-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M12 6v6l4 2"/>
                    </svg>
                    <span>Atención personalizada</span>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- Script inline para pasar el ID del producto -->
<script>
    window.PRODUCTO_ID = "{{ producto_id }}";
</script>
{% endblock %}